# 要件定義

## プロダクト名
家族の掲示板

## プロダクトの概要
家族で共有できる掲示板アプリです。

---

## ユビキタス言語

| 用語 | 説明 |
|------|------|
| ファミリー | 家族のこと。一般的なアプリでいうグループに該当する。 |
| ファミリーメンバー | ファミリーに所属するメンバーのこと。一般的なアプリでユーザーに該当する。 |
| 続柄 | ファミリーメンバーの続柄のこと。例：お父さん、お母さん、お兄ちゃん、お姉ちゃん、弟、妹、おじいちゃん、おばあちゃん。 |
| 掲示板 | ファミリー内で共有できる掲示板のこと。 |
| 投稿 | 掲示板に書き込む内容。 |
| 招待コード | ファミリーに参加するためのコード。 |

---

## 機能一覧

### 認証機能
- ログイン機能
- ログアウト機能
- 新規登録（サインアップ）機能
- パスワードリセット機能
- 認証方法
  - メールアドレス
  - ソーシャルログイン
    - Google
    - Instagram
    - X

### ファミリー機能
- ファミリー作成機能
- ファミリーの編集機能（名前変更等）
- ファミリーへの招待機能（招待コード/招待リンク）
- ファミリーからの退会機能
- 複数ファミリーへの所属対応

### ファミリーメンバー機能
- ファミリーメンバーの登録機能
- ファミリーメンバーの削除機能

### 掲示板機能
- 掲示板の作成機能
- 掲示板の編集機能
- 掲示板の削除機能
- 掲示板の表示機能
- 掲示板の検索機能
- 掲示板の登録機能
- 投稿へのコメント/返信機能
- 画像・写真の添付機能
- 投稿のピン留め（重要なお知らせ用）
- 既読管理

### 通知機能
- プッシュ通知機能
- 通知設定機能

### その他
- チュートリアル機能

---

## デザインの方向性
- シンプルかつポップなデザイン

---

## プラットフォーム
- iPhone、Androidの両方に対応

---

## 技術スタック

| 項目 | 技術 |
|------|------|
| フロントエンド | React Native + Expo |
| 認証 | Firebase Authentication |
| データベース | Cloud Firestore |
| ストレージ | Cloud Storage for Firebase |
| プッシュ通知 | Firebase Cloud Messaging (FCM) |
| ホスティング | Firebase Hosting（Webも対応する場合） |

---

## 実装方針
- テスト駆動開発（TDD）で進めること

---

## ターゲットユーザー
- 子供とその保護者
- 保護者は20代から50代を想定

---

## 権限管理
- 管理者（親）と子供で権限を分ける

---

## 退会時のデータ処理
- 投稿は全て破棄

---

## 非機能要件

### 1. 対応環境

| 項目 | 要件 |
|------|------|
| iOS | 14.0以上 |
| Android | 10（API 29）以上 |
| 画面サイズ | iPhone SE〜iPad、Android各種対応 |
| ネットワーク | 4G/5G/Wi-Fi |

### 2. パフォーマンス

| 項目 | 要件 |
|------|------|
| アプリ起動時間 | 3秒以内（コールドスタート） |
| 画面遷移 | 1秒以内 |
| 掲示板の読み込み | 2秒以内（20件表示） |
| 画像アップロード | 5MB以下の画像を10秒以内 |

### 3. 可用性

| 項目 | 要件 |
|------|------|
| サービス稼働率 | 99.5%以上（月間ダウンタイム約3.6時間まで許容） |
| メンテナンス | 事前告知の上、深夜帯に実施 |
| オフライン | 閲覧はキャッシュで対応、投稿はオンライン時のみ |

### 4. セキュリティ

| 項目 | 要件 |
|------|------|
| 通信 | HTTPS（TLS 1.2以上）必須 |
| 認証 | Firebase Authentication使用 |
| パスワード | 8文字以上、英数字混合推奨 |
| セッション | 30日間有効、明示的ログアウト可能 |
| データ保存 | Firestore Security Rulesで適切にアクセス制御 |
| 個人情報 | 最小限の収集（メールアドレス程度） |

### 5. ユーザビリティ / アクセシビリティ

| 項目 | 要件 |
|------|------|
| 対象ユーザー | 小学生〜高齢者（幅広い年齢層） |
| フォントサイズ | 端末設定に追従（Dynamic Type対応） |
| タップ領域 | 最小44×44pt |
| カラー | コントラスト比4.5:1以上 |
| エラー表示 | 分かりやすい日本語メッセージ |

### 6. データ管理

| 項目 | 要件 |
|------|------|
| バックアップ | Firebaseの自動バックアップ利用 |
| データ保持 | 退会後30日で削除 |
| 画像保存 | 1枚5MB以下、1投稿3枚まで |
| 投稿文字数 | 1,000文字以内 |

### 7. 保守・運用

| 項目 | 要件 |
|------|------|
| ログ | エラーログをFirebase Crashlyticsで収集 |
| 分析 | Firebase Analyticsで利用状況把握 |
| アップデート | 強制アップデート機能（重大な問題時） |

### 8. 法令・規約

| 項目 | 要件 |
|------|------|
| 利用規約 | アプリ内に掲載、同意必須 |
| プライバシーポリシー | アプリ内に掲載、ストア申請に必須 |
| 年齢制限 | 4+（全年齢対象）を想定 |
